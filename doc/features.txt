
Wireless monitor
================

Netlink monitor interface is created if it does not exist

The iwmon utility automates netlink monitor creation by by using RTNL
to find an existing netlink monitor interface, and in case it does not
exist, create a new one. By default the netlink monitor interface is
named 'nlmon'. Another name can be given with the '--interface'
command line option.

Once iwmon terminates, the netlink monitor interface is removed (in
case iwmon created it).


HWSIM
=====

The radio id from kernel mac80211_hwsim module is parsed properly in
hwsim. The radio id is not returned as HWSIM_ATTR_RADIO_ID but instead
it is returned in error message. If the error code > 0, then that means
the radio id. If the error code < 0, then that indicates a real error.

The hwsim uses new HWSIM_ATTR_DESTROY_RADIO_ON_CLOSE flag attribute to
tell the kernel that when the hwsim process dies, the radios it created
should be removed. For testing tools it is beneficial if the newly
created radio could be bound to the lifetime of the netlink socket.
Alternatively, using the hwsim '-k (--keep)' command line option instructs
hwsim to not destroy the created radio automatically.

The hwsim is using HWSIM_CMD_NEW_RADIO to create a new radio. When the
radio has been created, the kernel will return the used radio id and
parameters in a HWSIM_CMD_NEW_RADIO multicast event that is sent in
"config" netlink multicast group. The command HWSIM_CMD_DEL_RADIO is sent
by kernel when a hwsim radio is deleted. In this case the deleted
radio id is sent to "config" netlink multicast group.
